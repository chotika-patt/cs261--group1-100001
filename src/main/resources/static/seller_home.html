<!DOCTYPE html>
<html lang="th" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ - TU Store</title>

  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/seller_home.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>

<body>

  <!-- ======= Navbar ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ======= -->
  <nav class="nav-top">
    <div class="right-buttons">
      <div class="user-menu">
        <button class="user-btn" id="user-btn">
          <span class="user-text" th:text="${session.username}">Seller Name</span>
          <div class="user-icon"><i class="fa-solid fa-user"></i></div>
        </button>

        <div class="dropdown" id="user-dropdown">
          <i class="fa-solid fa-xmark close" id="close-dropdown"></i>
          <div class="avatar"><i class="fa-solid fa-user"></i></div>
          <h4 th:text="${username}">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢</h4>
          <div class="info">
            <p><i class="fa-solid fa-envelope"></i> <span th:text="${email}">seller_email@example.com</span></p>
            <p><i class="fa-solid fa-phone"></i> <span th:text="${phone}">08xxxxxxxx</span></p>
          </div>
          <button class="logout-btn" id="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- ======= Navbar ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ======= -->
  <nav class="nav-bottom">
    <ul class="menu">
      <li><a href="#">
     <img class="logo" src="/src/main/resources/static/img/Emblem_of_Thammasat_University.svg.png" alt="TU Logo"></a></li>
      <li><a th:href="@{/seller_home}">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</a></li>
      <li><a href="#">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a></li>
      <li><a href="#">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a></li>
      <li><a href="#">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</a></li>
      <li><a href="#" id="search-icon"><i class="fa-solid fa-magnifying-glass"></i></a></li>
    </ul>
    <div class="search-bar-replacement">
      <div class="search-input-container">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...">
      </div>
      <button class="search-close-btn" id="search-close"><i class="fa-solid fa-xmark"></i></button>
    </div>
  </nav>

  <!-- ======= ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å ======= -->
  <main class="seller-dashboard">
    <div class="dashboard-header">
      <h1 th:text="'‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö, ' + ${username} + '!'">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö, Seller Name!</h1>
      <button class="add-product-btn"><i class="fa-solid fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
    </div>

    <div class="product-management-section">
      <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
      <div class="product-management-grid">
        <div class="product-card-seller">
          <div class="product-image-placeholder"></div>
          <div class="product-info-seller">
            <span class="product-name">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
            <span class="product-price">‡∏ø 00.0</span>
          </div>
          <div class="product-actions">
            <button class="edit-btn">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button class="delete-btn">‡∏•‡∏ö</button>
          </div>
        </div>

        <div class="product-card-seller">
          <div class="product-image-placeholder"></div>
          <div class="product-info-seller">
            <span class="product-name">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
            <span class="product-price">‡∏ø 00.0</span>
          </div>
          <div class="product-actions">
            <button class="edit-btn">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button class="delete-btn">‡∏•‡∏ö</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- ======= Popup ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö ======= -->
  <div class="logout-modal" id="logout-modal">
    <div class="modal-content">
      <i class="fa-solid fa-circle-exclamation"></i>
      <p>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</p>
      <div class="modal-buttons">
        <button id="cancel-logout" class="cancel-btn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button id="confirm-logout" class="confirm-btn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
      </div>
      <i class="fa-solid fa-xmark modal-close" id="close-modal"></i>
    </div>
  </div>

  <!-- ======= Popup ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ======= -->
  <div class="logout-success" id="logout-success">
    <div class="success-content">
      <i class="fa-solid fa-circle-check"></i>
      <p>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</p>
    </div>
  </div>

  <!-- ======= Script ======= -->
  <script th:src="@{/js/main.js}" defer></script>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const userBtn = document.getElementById("user-btn");
    const dropdown = document.getElementById("user-dropdown");
    const closeDropdown = document.getElementById("close-dropdown");
    const logoutBtn = document.getElementById("logout-btn");
    const logoutModal = document.getElementById("logout-modal");
    const cancelLogout = document.getElementById("cancel-logout");
    const closeModal = document.getElementById("close-modal");
    const confirmLogout = document.getElementById("confirm-logout");
    const logoutSuccess = document.getElementById("logout-success");

    // üëâ ‡πÄ‡∏õ‡∏¥‡∏î dropdown
    userBtn.addEventListener("click", () => {
      dropdown.classList.toggle("active");
    });

    // üëâ ‡∏õ‡∏¥‡∏î dropdown
    closeDropdown.addEventListener("click", () => {
      dropdown.classList.remove("active");
    });

    // üëâ ‡πÄ‡∏õ‡∏¥‡∏î modal logout
    logoutBtn.addEventListener("click", () => {
      dropdown.classList.remove("active");
      logoutModal.classList.add("show");
    });

    // üëâ ‡∏õ‡∏¥‡∏î modal logout
    cancelLogout.addEventListener("click", () => {
      logoutModal.classList.remove("show");
    });
    closeModal.addEventListener("click", () => {
      logoutModal.classList.remove("show");
    });

    // üëâ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
    window.addEventListener("click", (e) => {
      if (e.target === logoutModal) {
        logoutModal.classList.remove("show");
      }
    });

    // ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô -> ‡πÅ‡∏™‡∏î‡∏á popup ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à -> ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ index.html
    confirmLogout.addEventListener("click", () => {
      logoutModal.classList.remove("show");
      logoutSuccess.classList.add("active");

      setTimeout(() => {
        window.location.href = "index.html";  // üëà ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô path ‡∏ñ‡πâ‡∏≤ index ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
      }, 1500);
    });
  });
  </script>
</body>
</html>
